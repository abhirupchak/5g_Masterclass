
- 5G supports **VoNR** (Voice over New Radio) and **ViNR** (Video over New Radio).

### RAN (Radio Access Network) Protocol Stack:

![userplane/controlprotocols](https://github.com/abhirupchak/images-5G_masterclass/blob/main/imagesch1/Screenshot%202024-10-15%20205053.png)

#### User Plane Protocol Stack:
All the protocols in this stack utilize the services of the protocol below them. The **UE (User Equipment) protocol** communicates with the **gNodeB protocols** to establish and maintain the connection.

- **PHY (Physical Layer)**: 
  - Responsible for efficient wireless communication.

- **MAC (Medium Access Control Layer)**: 
  - Functions include retransmission, multiplexing/demultiplexing, and scheduling.

- **RLC (Radio Link Control Layer)**: 
  - Implements **ARQ (Automatic Repeat Request)** for error correction.
  - Handles segmentation, breaking up data packets into smaller segments.

- **PDCP (Packet Data Convergence Protocol)**: 
  - Responsible for header control, ciphering, and integrity protection.
  - Performs duplicate removal.

- **SDAP (Service Data Adaptation Protocol)**: 
  - Matches the appropriate QoS bearer to the correct radio bearer.
  - For example, a voice call packet is treated differently from a streaming packet.

The input of each protocol layer is the output of the layer above it.

### Packet Flow Through 5G Protocol Layers

![sdu/pdu](https://github.com/abhirupchak/images-5G_masterclass/blob/main/imagesch2/Screenshot%202024-10-14%20120121.png)

### SDU and PDU:
- **SDU (Service Data Unit)**: Data received from the layer above.
- **PDU (Protocol Data Unit)**: Processed data with added headers, passed to the next layer.



![packetflow](https://github.com/abhirupchak/images-5G_masterclass/blob/main/imagesch2/Screenshot%202024-10-15%20211037.png)

1. **SDAP (Service Data Adaptation Protocol)**
   - Maps the **SDU** to the correct QoS bearer.
   - Outputs a **PDU** passed to the **PDCP** layer.

2. **PDCP (Packet Data Convergence Protocol)**
   - Handles header compression, encryption, and integrity protection.
   - Processes the **SDU** and generates a **PDU** for **RLC**.

3. **RLC (Radio Link Control Layer)**
   - Segments or concatenates the data.
   - Performs error correction using **ARQ**.
   - Produces a **PDU** for the **MAC** layer.

4. **MAC (Medium Access Control Layer)**
   - Handles multiplexing, scheduling, and retransmissions.
   - Organizes data into transport blocks (its **PDU**) and sends them to **PHY**.

5. **PHY (Physical Layer)**
   - Converts the **MAC PDU** into radio signals for transmission over the air.
## Control Plane Layer

![controlplanenas](https://github.com/user-attachments/assets/628d8811-4314-4fa5-ac06-9698fe0f5801)
![rrc](https://github.com/user-attachments/assets/0aa1bcbf-fe06-4b66-9f7f-fccb7873608f)


